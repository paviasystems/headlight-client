'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
require("mocha");
const process = require("process");
const chai = require("chai");
const Headlight = require("../");
const expect = chai.expect;
//const jsonata = require('jsonata');
const _ServerURL = 'https://headlightqa.paviasystems.com/1.0';
const _UserName = process.env['DEV_USER'] || 'user';
const _Password = process.env['DEV_PASSWORD'] || 'password123';
describe('Node API test', function () {
    this.timeout(10000); //give network requests more time for build slaves
    var client = new Headlight.Client(_ServerURL);
    var pSpreadSheetObservationID = 0;
    it('can get API', () => {
        const bidItemApi = client.API(Headlight.API.BidItemApi);
        expect(bidItemApi).to.not.be.null;
    });
    it('authenticate', async () => {
        let session = await client.login(_UserName, _Password);
        expect(session).to.have.property('SessionID');
    });
    it('can perform API request which requires authentication', async () => {
        const userApi = client.API(Headlight.API.UserApi);
        let record = await userApi.read(client.UserSession.UserID);
        userApi._cacheFlag = true; //used for later test
        expect(record.IDUser).to.eq(client.UserSession.UserID);
    });
    it('will auto-login if session invalid', async () => {
        const authAPI = client.API(Headlight.API.AuthenticateApi);
        let result = await authAPI.deAuthenticate();
        expect(result).to.have.property('Success');
        //try getting a record after having logged out
        let userApi = client.API(Headlight.API.UserApi);
        let record = await userApi.read(client.UserSession.UserID);
        expect(record.IDUser).to.eq(client.UserSession.UserID);
    }).timeout(35000);
    it('can authenticate using a session token', async () => {
        const authApi = client.API(Headlight.API.AuthenticateApi);
        let token = await authApi.checkoutSessionToken();
        //note: using a temp token means auto-relogin cannot happen
        let session = await client.loginWithToken(token.Token);
        expect(session).to.have.property('SessionID');
    });
    it('will load API from cache', async () => {
        let userApi = client.API(Headlight.API.UserApi);
        expect(userApi).has.property('_cacheFlag');
    });
    it('can download media files', async () => {
        let observations = client.API(Headlight.API.ObservationApi);
        let image = await observations.downloadObservationImage(12, 'Thumbnail');
        expect(image instanceof Buffer).to.eq(true);
        let lastResponse = observations.getLastResponse();
        expect(lastResponse.headers['content-type']).to.eq('image/jpeg');
        //fs.writeFileSync('junk.png', image);
    });
    it('can update a record', async () => {
        const userApi = client.API(Headlight.API.UserApi);
        let record = await userApi.read(client.UserSession.UserID);
        let testTime = new Date().getTime();
        record.Settings['apiTest'] = testTime;
        let updatedRecord = await userApi.update(record);
        expect(updatedRecord.Settings['apiTest']).to.eq(testTime);
        expect(updatedRecord.UpdateDate).to.be.gt(record.UpdateDate);
    });
    it('can access a different API with renewed credentials', async () => {
        const customerApi = client.API(Headlight.API.CustomerApi);
        let customer = await customerApi.read(client.UserSession.CustomerID);
        expect(customer).to.have.property('IDCustomer');
        expect(customer.IDCustomer).to.eq(client.UserSession.CustomerID);
    });
    it('can access via Repository interface', async () => {
        const userRepo = client.Repository(Headlight.API.UserApi, Headlight.API.UserModel);
        let record = await userRepo.readByID(client.UserSession.UserID, client);
        expect(record.IDUser).to.eq(client.UserSession.UserID);
    });
    it('can access via fluent-query interface', async () => {
        let userQuery = client.Repository(Headlight.API.UserApi, Headlight.API.UserModel).query(client);
        let customerUsers = await userQuery
            .where("IDCustomer", client.UserSession.CustomerID)
            .cap(5)
            .reads();
        expect(customerUsers.length).eq(5);
    });
    it('can perform a count query', async () => {
        let projectQuery = client.Repository(Headlight.API.ProjectApi, Headlight.API.ProjectModel).query(client);
        //find out how many projects have the word 'project' in their name
        let projectCount = await projectQuery
            .where("Name", "%project%", "LIKE" /* Like */)
            .count();
        expect(projectCount).to.be.gt(1);
    });
    it('can perform a join query', async () => {
        let samplesQuery = client.Repository(Headlight.API.SampleApi, Headlight.API.Sample).query(client);
        //get the Sample that belongs to a SampleLog
        let sampleRecords = await samplesQuery
            .joinOn(Headlight.API.SampleLog, 'IDSample', 'IDSample', "INNER JOIN" /* INNER */)
            .whereOn(Headlight.API.SampleLog, 'IDSampleLog', 595)
            .reads();
        expect(sampleRecords.length).to.be.gt(0);
    });
    it('can perform an HTTP GET', async () => {
        var projects = await client.GET("/Projects/0/1");
        expect(projects.length).to.be.gt(0);
        expect(projects[0].IDProject).to.be.gt(0);
    });
    it('can get a paged records using getAllRecordsPaged() using GET', async () => {
        var tmpTotalRecords = 0;
        var pProjectManifestRecords = await client.getAllRecordsPaged(`Modules`, {}, 5, (pError, pRecords, fNext) => {
            tmpTotalRecords += pRecords.length;
            return fNext();
        });
        expect(tmpTotalRecords).to.be.gt(5);
    });
    it('can get a paged records using getAllRecordsPaged() using POST', async () => {
        var tmpTotalRecords = 0;
        var pObservationsFiltered = await client.getAllRecordsPaged(`ObservationsFilter`, { method: 'POST', body: { IDProject: 1, ObservationType: 'Legacy Equipment' } }, 5, (pError, pRecords, fNext) => {
            tmpTotalRecords += pRecords.length;
            return fNext();
        });
        expect(tmpTotalRecords).to.be.gt(0);
    });
    it('can create a SpreadSheet type observation', async () => {
        let observationsRepo = client.Repository(Headlight.API.ObservationApi, Headlight.API.ObservationModel);
        let pTargetObservation = await observationsRepo.createEmptyEntity();
        pTargetObservation.ObservationType = 'Legacy Personnel';
        pTargetObservation.IDProject = 328;
        pTargetObservation.Name = 'Test Personnel Observation';
        let pPersonnelObservation = await client.API(Headlight.API.ObservationApi).create(pTargetObservation);
        pSpreadSheetObservationID = pPersonnelObservation.IDObservation;
        expect(pPersonnelObservation.Name).to.eq(pTargetObservation.Name);
        expect(pPersonnelObservation.ObservationType).to.eq(pTargetObservation.ObservationType);
    });
    it('can get a file buffer using getFileExtended() with GET method', async () => {
        var pResponse = await client.getFileExtended('Observation/12/Image/Standard', { method: 'GET' });
        expect(pResponse[0].headers['content-type']).to.eq('image/jpeg');
    });
    it('can get a file buffer using getFileExtended() with POST method', async () => {
        var pResponse = await client.getFileExtended('ObservationsFilter/DownloadSpreadsheet/0/10', { method: 'POST', body: { 'IDObservation': pSpreadSheetObservationID } });
        expect(pResponse[0].headers['content-type']).to.eq('application/octet-stream');
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGUvdGVzdC9zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQTs7QUFFWixpQkFBZTtBQUVmLG1DQUFtQztBQUNuQyw2QkFBNkI7QUFDN0IsaUNBQWlDO0FBRWpDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDM0IscUNBQXFDO0FBRXJDLE1BQU0sVUFBVSxHQUFHLDBDQUEwQyxDQUFDO0FBQzlELE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksTUFBTSxDQUFDO0FBQ3BELE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksYUFBYSxDQUFDO0FBRS9ELFFBQVEsQ0FBQyxlQUFlLEVBQUU7SUFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGtEQUFrRDtJQUV2RSxJQUFJLE1BQU0sR0FBRyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDOUMsSUFBSSx5QkFBeUIsR0FBRyxDQUFDLENBQUM7SUFFbEMsRUFBRSxDQUFDLGFBQWEsRUFBRSxHQUFFLEVBQUU7UUFDbEIsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7SUFDdEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsY0FBYyxFQUFFLEtBQUssSUFBRyxFQUFFO1FBQ3pCLElBQUksT0FBTyxHQUFHLE1BQU0sTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFFdkQsTUFBTSxDQUFDLE9BQU8s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